\hypertarget{classuORB_1_1SubscriptionInterval}{}\section{u\+O\+RB\+:\+:Subscription\+Interval Class Reference}
\label{classuORB_1_1SubscriptionInterval}\index{u\+O\+R\+B\+::\+Subscription\+Interval@{u\+O\+R\+B\+::\+Subscription\+Interval}}


Inheritance diagram for u\+O\+RB\+:\+:Subscription\+Interval\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=245pt]{dd/ded/classuORB_1_1SubscriptionInterval__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for u\+O\+RB\+:\+:Subscription\+Interval\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d4f/classuORB_1_1SubscriptionInterval__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classuORB_1_1SubscriptionInterval_a7e51c851205bd12c2a973f1dbcaa91a5}{Subscription\+Interval} (\hyperlink{uORB_8h_a96af5434ec1acdf24287bd7851b0413f}{O\+R\+B\+\_\+\+ID} id, uint32\+\_\+t interval\+\_\+us=0, uint8\+\_\+t instance=0)
\item 
\hyperlink{classuORB_1_1SubscriptionInterval_a5484a71c5ad98ca70bfa88d8de9550af}{Subscription\+Interval} (const \hyperlink{structorb__metadata}{orb\+\_\+metadata} $\ast$meta, uint32\+\_\+t interval\+\_\+us=0, uint8\+\_\+t instance=0)
\item 
\mbox{\Hypertarget{classuORB_1_1SubscriptionInterval_a1febf0b92009d71a8866e759c6fc0e6d}\label{classuORB_1_1SubscriptionInterval_a1febf0b92009d71a8866e759c6fc0e6d}} 
bool {\bfseries subscribe} ()
\item 
\mbox{\Hypertarget{classuORB_1_1SubscriptionInterval_aa1b4d9eac19750eedc7c809c88a0534c}\label{classuORB_1_1SubscriptionInterval_aa1b4d9eac19750eedc7c809c88a0534c}} 
void {\bfseries unsubscribe} ()
\item 
\mbox{\Hypertarget{classuORB_1_1SubscriptionInterval_ad37eaf4990b69463eb3f3c53db76874d}\label{classuORB_1_1SubscriptionInterval_ad37eaf4990b69463eb3f3c53db76874d}} 
bool {\bfseries advertised} ()
\item 
bool \hyperlink{classuORB_1_1SubscriptionInterval_aa1c12b83d65604e306b919a2c224e32e}{updated} ()
\item 
bool \hyperlink{classuORB_1_1SubscriptionInterval_ac9198cc23c666df10af2a8fb3f809508}{update} (void $\ast$dst)
\item 
bool \hyperlink{classuORB_1_1SubscriptionInterval_a25125ed09772665d3b4b4e6978fb3e1c}{copy} (void $\ast$dst)
\item 
\mbox{\Hypertarget{classuORB_1_1SubscriptionInterval_a82ac3efc49cc896017552f277a6ae003}\label{classuORB_1_1SubscriptionInterval_a82ac3efc49cc896017552f277a6ae003}} 
bool {\bfseries valid} () const
\item 
\mbox{\Hypertarget{classuORB_1_1SubscriptionInterval_a93e8f0a9b49c1f38b3a68f725fef4ab5}\label{classuORB_1_1SubscriptionInterval_a93e8f0a9b49c1f38b3a68f725fef4ab5}} 
uint8\+\_\+t {\bfseries get\+\_\+instance} () const
\item 
\mbox{\Hypertarget{classuORB_1_1SubscriptionInterval_a3ef43a25c5bb473b5e8e86a57a1b0387}\label{classuORB_1_1SubscriptionInterval_a3ef43a25c5bb473b5e8e86a57a1b0387}} 
uint32\+\_\+t {\bfseries get\+\_\+interval\+\_\+us} () const
\item 
\mbox{\Hypertarget{classuORB_1_1SubscriptionInterval_a70f0db8ef87cbe335c01b7a24bb0eaf2}\label{classuORB_1_1SubscriptionInterval_a70f0db8ef87cbe335c01b7a24bb0eaf2}} 
unsigned {\bfseries get\+\_\+last\+\_\+generation} () const
\item 
\mbox{\Hypertarget{classuORB_1_1SubscriptionInterval_a2e625fde36b8501430a7c0518521286f}\label{classuORB_1_1SubscriptionInterval_a2e625fde36b8501430a7c0518521286f}} 
\hyperlink{structorb__metadata}{orb\+\_\+id\+\_\+t} {\bfseries get\+\_\+topic} () const
\item 
void \hyperlink{classuORB_1_1SubscriptionInterval_a53018b44bb431a80d47ac95327990b2a}{set\+\_\+interval\+\_\+us} (uint32\+\_\+t interval)
\item 
void \hyperlink{classuORB_1_1SubscriptionInterval_a12e68cbb4d69d82ec586aa2bbc8e9672}{set\+\_\+interval\+\_\+ms} (uint32\+\_\+t interval)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classuORB_1_1SubscriptionInterval_a9e90aab2e7af7acfc36282d438fa2741}\label{classuORB_1_1SubscriptionInterval_a9e90aab2e7af7acfc36282d438fa2741}} 
\hyperlink{classuORB_1_1Subscription}{Subscription} {\bfseries \+\_\+subscription}
\item 
\mbox{\Hypertarget{classuORB_1_1SubscriptionInterval_ac1cdffa27e2a8393a2111a996b4f05bf}\label{classuORB_1_1SubscriptionInterval_ac1cdffa27e2a8393a2111a996b4f05bf}} 
uint64\+\_\+t {\bfseries \+\_\+last\+\_\+update} \{0\}
\item 
\mbox{\Hypertarget{classuORB_1_1SubscriptionInterval_a01c7991b993e3851bc110b84dc485ed9}\label{classuORB_1_1SubscriptionInterval_a01c7991b993e3851bc110b84dc485ed9}} 
uint32\+\_\+t {\bfseries \+\_\+interval\+\_\+us} \{0\}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 55 of file Subscription\+Interval.\+hpp.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classuORB_1_1SubscriptionInterval_a7e51c851205bd12c2a973f1dbcaa91a5}\label{classuORB_1_1SubscriptionInterval_a7e51c851205bd12c2a973f1dbcaa91a5}} 
\index{u\+O\+R\+B\+::\+Subscription\+Interval@{u\+O\+R\+B\+::\+Subscription\+Interval}!Subscription\+Interval@{Subscription\+Interval}}
\index{Subscription\+Interval@{Subscription\+Interval}!u\+O\+R\+B\+::\+Subscription\+Interval@{u\+O\+R\+B\+::\+Subscription\+Interval}}
\subsubsection{\texorpdfstring{Subscription\+Interval()}{SubscriptionInterval()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily u\+O\+R\+B\+::\+Subscription\+Interval\+::\+Subscription\+Interval (\begin{DoxyParamCaption}\item[{\hyperlink{uORB_8h_a96af5434ec1acdf24287bd7851b0413f}{O\+R\+B\+\_\+\+ID}}]{id,  }\item[{uint32\+\_\+t}]{interval\+\_\+us = {\ttfamily 0},  }\item[{uint8\+\_\+t}]{instance = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Constructor


\begin{DoxyParams}{Parameters}
{\em id} & The u\+O\+RB O\+R\+B\+\_\+\+ID enum for the topic. \\
\hline
{\em interval} & The requested maximum update interval in microseconds. \\
\hline
{\em instance} & The instance for multi sub. \\
\hline
\end{DoxyParams}


Definition at line 66 of file Subscription\+Interval.\+hpp.


\begin{DoxyCode}
66                                                                                     :
67         \_subscription\{id, instance\},
68         \_interval\_us(interval\_us)
69     \{\}
\end{DoxyCode}
\mbox{\Hypertarget{classuORB_1_1SubscriptionInterval_a5484a71c5ad98ca70bfa88d8de9550af}\label{classuORB_1_1SubscriptionInterval_a5484a71c5ad98ca70bfa88d8de9550af}} 
\index{u\+O\+R\+B\+::\+Subscription\+Interval@{u\+O\+R\+B\+::\+Subscription\+Interval}!Subscription\+Interval@{Subscription\+Interval}}
\index{Subscription\+Interval@{Subscription\+Interval}!u\+O\+R\+B\+::\+Subscription\+Interval@{u\+O\+R\+B\+::\+Subscription\+Interval}}
\subsubsection{\texorpdfstring{Subscription\+Interval()}{SubscriptionInterval()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily u\+O\+R\+B\+::\+Subscription\+Interval\+::\+Subscription\+Interval (\begin{DoxyParamCaption}\item[{const \hyperlink{structorb__metadata}{orb\+\_\+metadata} $\ast$}]{meta,  }\item[{uint32\+\_\+t}]{interval\+\_\+us = {\ttfamily 0},  }\item[{uint8\+\_\+t}]{instance = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Constructor


\begin{DoxyParams}{Parameters}
{\em meta} & The u\+O\+RB metadata (usually from the \hyperlink{uORB_8h_a96af5434ec1acdf24287bd7851b0413f}{O\+R\+B\+\_\+\+I\+D()} macro) for the topic. \\
\hline
{\em interval} & The requested maximum update interval in microseconds. \\
\hline
{\em instance} & The instance for multi sub. \\
\hline
\end{DoxyParams}


Definition at line 78 of file Subscription\+Interval.\+hpp.


\begin{DoxyCode}
78                                                                                                    :
79         \_subscription\{meta, instance\},
80         \_interval\_us(interval\_us)
81     \{\}
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classuORB_1_1SubscriptionInterval_a25125ed09772665d3b4b4e6978fb3e1c}\label{classuORB_1_1SubscriptionInterval_a25125ed09772665d3b4b4e6978fb3e1c}} 
\index{u\+O\+R\+B\+::\+Subscription\+Interval@{u\+O\+R\+B\+::\+Subscription\+Interval}!copy@{copy}}
\index{copy@{copy}!u\+O\+R\+B\+::\+Subscription\+Interval@{u\+O\+R\+B\+::\+Subscription\+Interval}}
\subsubsection{\texorpdfstring{copy()}{copy()}}
{\footnotesize\ttfamily bool u\+O\+R\+B\+::\+Subscription\+Interval\+::copy (\begin{DoxyParamCaption}\item[{void $\ast$}]{dst }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Copy the struct 
\begin{DoxyParams}{Parameters}
{\em dst} & The destination pointer where the struct will be copied. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true only if topic was copied successfully. 
\end{DoxyReturn}


Definition at line 123 of file Subscription\+Interval.\+hpp.


\begin{DoxyCode}
124     \{
125         \textcolor{keywordflow}{if} (\_subscription.\hyperlink{classuORB_1_1Subscription_a17a37eb5624b409379db434400de4582}{copy}(dst)) \{
126             \textcolor{comment}{//const hrtime\_t now = gethrtime();}
127             \textcolor{keyword}{const} \hyperlink{drv__hrt_8h_a9f8bbf0e883115e04a457a268533a87c}{hrt\_abstime} now = \hyperlink{drv__hrt_8h_a91f4291796ed7fbe544dc22ee5288367}{hrt\_absolute\_time}();
128             \textcolor{comment}{// shift last update time forward, but don't let it get further behind than the interval}
129             \_last\_update = math::constrain(\_last\_update + \_interval\_us, now - \_interval\_us, now);
130             \textcolor{keywordflow}{return} \textcolor{keyword}{true};
131         \}
132 
133         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
134     \}
\end{DoxyCode}
\mbox{\Hypertarget{classuORB_1_1SubscriptionInterval_a12e68cbb4d69d82ec586aa2bbc8e9672}\label{classuORB_1_1SubscriptionInterval_a12e68cbb4d69d82ec586aa2bbc8e9672}} 
\index{u\+O\+R\+B\+::\+Subscription\+Interval@{u\+O\+R\+B\+::\+Subscription\+Interval}!set\+\_\+interval\+\_\+ms@{set\+\_\+interval\+\_\+ms}}
\index{set\+\_\+interval\+\_\+ms@{set\+\_\+interval\+\_\+ms}!u\+O\+R\+B\+::\+Subscription\+Interval@{u\+O\+R\+B\+::\+Subscription\+Interval}}
\subsubsection{\texorpdfstring{set\+\_\+interval\+\_\+ms()}{set\_interval\_ms()}}
{\footnotesize\ttfamily void u\+O\+R\+B\+::\+Subscription\+Interval\+::set\+\_\+interval\+\_\+ms (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{interval }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Set the interval in milliseconds 
\begin{DoxyParams}{Parameters}
{\em interval} & The interval in milliseconds. \\
\hline
\end{DoxyParams}


Definition at line 153 of file Subscription\+Interval.\+hpp.


\begin{DoxyCode}
153 \{ \_interval\_us = interval * 1000; \}
\end{DoxyCode}
\mbox{\Hypertarget{classuORB_1_1SubscriptionInterval_a53018b44bb431a80d47ac95327990b2a}\label{classuORB_1_1SubscriptionInterval_a53018b44bb431a80d47ac95327990b2a}} 
\index{u\+O\+R\+B\+::\+Subscription\+Interval@{u\+O\+R\+B\+::\+Subscription\+Interval}!set\+\_\+interval\+\_\+us@{set\+\_\+interval\+\_\+us}}
\index{set\+\_\+interval\+\_\+us@{set\+\_\+interval\+\_\+us}!u\+O\+R\+B\+::\+Subscription\+Interval@{u\+O\+R\+B\+::\+Subscription\+Interval}}
\subsubsection{\texorpdfstring{set\+\_\+interval\+\_\+us()}{set\_interval\_us()}}
{\footnotesize\ttfamily void u\+O\+R\+B\+::\+Subscription\+Interval\+::set\+\_\+interval\+\_\+us (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{interval }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Set the interval in microseconds 
\begin{DoxyParams}{Parameters}
{\em interval} & The interval in microseconds. \\
\hline
\end{DoxyParams}


Definition at line 147 of file Subscription\+Interval.\+hpp.


\begin{DoxyCode}
147 \{ \_interval\_us = interval; \}
\end{DoxyCode}
\mbox{\Hypertarget{classuORB_1_1SubscriptionInterval_ac9198cc23c666df10af2a8fb3f809508}\label{classuORB_1_1SubscriptionInterval_ac9198cc23c666df10af2a8fb3f809508}} 
\index{u\+O\+R\+B\+::\+Subscription\+Interval@{u\+O\+R\+B\+::\+Subscription\+Interval}!update@{update}}
\index{update@{update}!u\+O\+R\+B\+::\+Subscription\+Interval@{u\+O\+R\+B\+::\+Subscription\+Interval}}
\subsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily bool u\+O\+R\+B\+::\+Subscription\+Interval\+::update (\begin{DoxyParamCaption}\item[{void $\ast$}]{dst }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Copy the struct if updated. 
\begin{DoxyParams}{Parameters}
{\em dst} & The destination pointer where the struct will be copied. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true only if topic was updated and copied successfully. 
\end{DoxyReturn}


Definition at line 109 of file Subscription\+Interval.\+hpp.


\begin{DoxyCode}
110     \{
111         \textcolor{keywordflow}{if} (\hyperlink{classuORB_1_1SubscriptionInterval_aa1c12b83d65604e306b919a2c224e32e}{updated}()) \{
112             \textcolor{keywordflow}{return} \hyperlink{classuORB_1_1SubscriptionInterval_a25125ed09772665d3b4b4e6978fb3e1c}{copy}(dst);
113         \}
114 
115         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
116     \}
\end{DoxyCode}
\mbox{\Hypertarget{classuORB_1_1SubscriptionInterval_aa1c12b83d65604e306b919a2c224e32e}\label{classuORB_1_1SubscriptionInterval_aa1c12b83d65604e306b919a2c224e32e}} 
\index{u\+O\+R\+B\+::\+Subscription\+Interval@{u\+O\+R\+B\+::\+Subscription\+Interval}!updated@{updated}}
\index{updated@{updated}!u\+O\+R\+B\+::\+Subscription\+Interval@{u\+O\+R\+B\+::\+Subscription\+Interval}}
\subsubsection{\texorpdfstring{updated()}{updated()}}
{\footnotesize\ttfamily bool u\+O\+R\+B\+::\+Subscription\+Interval\+::updated (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Check if there is a new update. 

Definition at line 95 of file Subscription\+Interval.\+hpp.


\begin{DoxyCode}
96     \{
97         \textcolor{keywordflow}{if} (advertised() && (hrt\_elapsed\_time(&\_last\_update) >= \_interval\_us)) \{
98             \textcolor{keywordflow}{return} \_subscription.\hyperlink{classuORB_1_1Subscription_a788d1848a46abe88a093be9a1f7cb2ca}{updated}();
99         \}
100 
101         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
102     \}
\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/home/andressanchez/\+Escritorio/\+G\+I\+T/project\+\_\+template/src/modules/u\+O\+R\+B/\hyperlink{SubscriptionInterval_8hpp}{Subscription\+Interval.\+hpp}\end{DoxyCompactItemize}
